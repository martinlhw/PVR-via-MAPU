<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PVR-via-MAPU: Parallel Video Reconstruction via Motion-Aware Predictive Upsampling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #ffffff;
      color: #111827;
      padding: 32px 20px;
    }

    .page {
      max-width: 1400px;
      margin: 0 auto;
    }

    header {
      margin-bottom: 24px;
    }

    h1 {
      font-size: 1.9rem;
      font-weight: 600;
      margin-bottom: 4px;
      text-align: left;
    }

    .authors {
      font-size: 1rem;
      color: #374151;
      margin-bottom: 10px;
    }

    .subtitle {
      font-size: 0.95rem;
      color: #4b5563;
      line-height: 1.45;
      max-width: 650px;
    }

    .subtitle a {
      margin-right: 12px;
    }

    main {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 8px;
    }

    /* Global controls */
    .controls-card {
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      padding: 12px 14px;
      background: #f9fafb;
      font-size: 0.9rem;
    }

    .controls-top {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .controls-title {
      font-weight: 500;
      font-size: 0.9rem;
      color: #374151;
    }

    .controls-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    button {
      font-family: inherit;
      font-size: 0.85rem;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      padding: 5px 12px;
      background: #ffffff;
      color: #111827;
      cursor: pointer;
    }

    button.primary {
      background: #111827;
      color: #f9fafb;
      border-color: #111827;
    }

    button:hover {
      background: #f3f4f6;
    }

    button.primary:hover {
      background: #1f2933;
    }

    .scrubber-row {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 0.8rem;
      color: #6b7280;
    }

    .scrubber-row .time {
      width: 56px;
      text-align: center;
      font-variant-numeric: tabular-nums;
    }

    input[type="range"] {
      flex: 1;
      appearance: none;
      height: 4px;
      border-radius: 999px;
      background: #e5e7eb;
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #111827;
      cursor: pointer;
      margin-top: -4px;
    }

    input[type="range"]::-moz-range-thumb {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #111827;
      border: none;
      cursor: pointer;
    }

    /* Video comparison panels */
    .compare-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    .panel {
      flex: 1 1 260px;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      padding: 12px;
      background: #fafafa;
    }

    .panel-title {
      font-size: 0.95rem;
      font-weight: 500;
      margin-bottom: 6px;
    }

    .panel-note {
      font-size: 0.8rem;
      color: #6b7280;
      margin-bottom: 8px;
    }

    .video-wrapper {
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      overflow: hidden;
      background: #ffffff;
    }

    video {
      display: block;
      width: 100%;
      height: auto;
    }

    .info {
      font-size: 0.9rem;
      line-height: 1.5;
      color: #374151;
      border-top: 1px solid #e5e7eb;
      padding-top: 14px;
    }

    footer {
      margin-top: 20px;
      font-size: 0.8rem;
      color: #6b7280;
      text-align: right;
    }

    @media (max-width: 640px) {
      body {
        padding: 20px 14px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>PVR-via-MAPU: Parallel Video Reconstruction via Motion-Aware Predictive Upsampling</h1>
      <div class="authors">Andrew Kim, Martin Lee</div>
      <p class="subtitle">
        <a href="https://github.com/punchthatface/15418-FinalProject/blob/main/418_Project_Proposal.pdf">Proposal</a><br />
        <a href="https://github.com/punchthatface/15418-FinalProject">Code</a>
      </p>
    </header>

    <main>
      <!-- Global playback controls -->
      <section class="controls-card">
        <div class="controls-top">
          <div class="controls-title">Global playback controls</div>
          <div class="controls-buttons">
            <button id="playBoth" class="primary">Play both</button>
            <button id="pauseBoth">Pause both</button>
            <button id="resetBoth">Reset</button>
          </div>
        </div>
        <div class="scrubber-row">
          <span class="time" id="currentTimeLabel">0:00</span>
          <input id="scrubber" type="range" min="0" step="0.01" value="0" />
          <span class="time" id="durationLabel">0:00</span>
        </div>
      </section>

      <!-- Side-by-side videos -->
      <section class="compare-row">
        <article class="panel">
          <div class="panel-title">Before — Original</div>
          <div class="panel-note">Reference clip (input).</div>
          <div class="video-wrapper">
            <video
              id="originalVideo"
              controls
              preload="metadata"
              playsinline
            >
              <source src="original.mp4" type="video/mp4" />
              Your browser does not support HTML5 video.
            </video>
          </div>
        </article>

        <article class="panel">
          <div class="panel-title">After — Reconstructed</div>
          <div class="panel-note">Output produced by PVR-via-MAPU.</div>
          <div class="video-wrapper">
            <video
              id="reconstructedVideo"
              controls
              preload="metadata"
              playsinline
            >
              <source src="reconstructed.mp4" type="video/mp4" />
              Your browser does not support HTML5 video.
            </video>
          </div>
        </article>
      </section>

      <section class="info">
        <p>
          We achieved a size reduction from 32 MB to 5.9 MB, corresponding to an <strong>81.6%</strong> decrease (about 5.4x compression).
        </p>
      </section>

      <footer>
        https://github.com/punchthatface/15418-FinalProject
      </footer>
    </main>
  </div>

  <script>
    const original = document.getElementById("originalVideo");
    const reconstructed = document.getElementById("reconstructedVideo");
    const playBothBtn = document.getElementById("playBoth");
    const pauseBothBtn = document.getElementById("pauseBoth");
    const resetBothBtn = document.getElementById("resetBoth");
    const scrubber = document.getElementById("scrubber");
    const currentTimeLabel = document.getElementById("currentTimeLabel");
    const durationLabel = document.getElementById("durationLabel");

    function formatTime(seconds) {
      if (!isFinite(seconds)) return "0:00";
      const m = Math.floor(seconds / 60);
      const s = Math.floor(seconds % 60);
      return m + ":" + (s < 10 ? "0" + s : s);
    }

    function updateDuration() {
      const dur = Math.min(
        original.duration || 0,
        reconstructed.duration || 0
      );
      if (dur > 0) {
        scrubber.max = dur.toFixed(2);
        durationLabel.textContent = formatTime(dur);
      }
    }

    function updateCurrentTime() {
      const t = Math.min(original.currentTime || 0, reconstructed.currentTime || 0);
      scrubber.value = t;
      currentTimeLabel.textContent = formatTime(t);
    }

    // Global playback controls
    playBothBtn.addEventListener("click", () => {
      original.play();
      reconstructed.play();
    });

    pauseBothBtn.addEventListener("click", () => {
      original.pause();
      reconstructed.pause();
    });

    resetBothBtn.addEventListener("click", () => {
      original.pause();
      reconstructed.pause();
      original.currentTime = 0;
      reconstructed.currentTime = 0;
      scrubber.value = 0;
      currentTimeLabel.textContent = "0:00";
    });

    // Scrub both videos together
    scrubber.addEventListener("input", () => {
      const t = parseFloat(scrubber.value) || 0;
      original.currentTime = t;
      reconstructed.currentTime = t;
      currentTimeLabel.textContent = formatTime(t);
    });

    // Keep UI in sync while playing
    original.addEventListener("timeupdate", updateCurrentTime);
    reconstructed.addEventListener("timeupdate", updateCurrentTime);

    // When metadata is ready, set duration
    original.addEventListener("loadedmetadata", updateDuration);
    reconstructed.addEventListener("loadedmetadata", updateDuration);

    // In case metadata was ready before JS
    window.addEventListener("load", () => {
      if (original.readyState >= 1 || reconstructed.readyState >= 1) {
        updateDuration();
      }
    });
  </script>
</body>
</html>
